function JM_Bing_Map(){var e=jQuery(".job-map");e.length>0&&e.each(function(){function e(e,a,n){Microsoft.Maps.loadModule("Microsoft.Maps.Clustering",function(){for(var i=[],r=[],s=nooJobGmapL10n.theme_uri+"/assets/images/map-marker-icon.png",d=nooJobGmapL10n.theme_uri+"/assets/images/map-marker.png",c=0;c<n.length;c++)if(""!==n[c].latitude||""!==n[c].longitude){var u=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(n[c].latitude,n[c].longitude),{icon:s});u.Title='<h6><a href="'+n[c].company_url+'">'+n[c].title+"</a></h6>",u.Description='<div class="">							<div class="loop-item-wrap"> 								<div class="item-featured"><a href="'+n[c].company_url+'">'+n[c].image+'</a></div> 								<div class="loop-item-content"> 								 	<h5 class="loop-item-title"><a href="'+n[c].company_url+'">'+n[c].title+'</a></h5>								 	<p class="content-meta">									<span class="job-company"> '+n[c].slogan+'</span>									<strong> Total Jobs: </strong><span class="total-job">'+n[c].total_job+"</span> 									</p>							</div></div>",Microsoft.Maps.Events.addHandler(u,"click",t),Microsoft.Maps.Events.addHandler(u,"click",function(t){return e.setView({center:t.target.getLocation(),zoom:15})}),u.metadata=n[c],i.push(u)}for(var p=0;p<a.length;p++)if(""!==a[p].latitude||""!==a[p].longitude){var m=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(a[p].latitude,a[p].longitude),{icon:d});m.Title='<h6><a href="'+a[p].url+'">'+a[p].title+"</a></h6>",m.Description='<div>							<div class="loop-item-wrap"> 								<div class="item-featured"><a href="'+a[p].url+'"><img src="'+a[p].image+'"></a></div> 								<div class="loop-item-content"> 								 	<h5 class="loop-item-title"><a href="'+a[p].url+'">'+a[p].title+'</a></h5>								 	<p class="content-meta">',(""!==a[p].company_url||""!==a[p].company)&&(m.Description+='<span class="job-company"> <a href="'+a[p].company_url+'">'+a[p].company+"</a></span>"),""!==a[p].type&&(m.Description+='<span class="job-type"> <a href="'+a[p].type_url+'" style="color: '+a[p].type_color+'"><i class="fa fa-bookmark"></i>'+a[p].type+"</a></span> "),m.Description+="</p>							</div></div>",Microsoft.Maps.Events.addHandler(m,"click",t),Microsoft.Maps.Events.addHandler(m,"click",function(t){return e.setView({center:t.target.getLocation(),zoom:15})}),m.metadata=a[p],i.push(m),r.push(new Microsoft.Maps.Location(a[p].latitude,a[p].longitude))}clusterLayer=new Microsoft.Maps.ClusterLayer(i,{clusteredPinCallback:o}),viewBoundaries=Microsoft.Maps.LocationRect.fromLocations(r),1===r.length?e.setView({center:r[0],zoom:l}):e.setView({bounds:viewBoundaries}),e.layers.insert(clusterLayer)})}function t(e){"pushpin"==e.targetType&&(infobox.setLocation(e.target.getLocation()),infobox.setOptions({visible:!0,description:e.target.Description,maxWidth:350,maxHeight:220}))}function o(e){var t=25,a=nooJobGmapL10n.theme_uri+"/assets/images/cloud.png",o=e.containedPushpins.length,i=Math.log(o)/Math.log(10)*5+t;e.setOptions({icon:a,textOffset:new Microsoft.Maps.Point(0,i-5)}),Microsoft.Maps.Events.addHandler(e,"click",n)}function n(e){if(e.target.containedPushpins){for(var t=[],a=0,o=e.target.containedPushpins.length;o>a;a++)t.push(e.target.containedPushpins[a].getLocation());var n=Microsoft.Maps.LocationRect.fromLocations(t);u.setView({bounds:n,padding:100}),0==n.width&&i(e.target)}}function i(e){var t=[];if(e.containedPushpins){t.push('<div style="overflow-y:auto;"><ul class="bmap-listCluster">');for(var a=0;a<e.containedPushpins.length;a++)"company"===e.containedPushpins[a].metadata.post_type&&t.push('<li><h6><i class="fa fa-suitcase" aria-hidden="true"></i><a href="'+e.containedPushpins[a].metadata.company_url+'">',e.containedPushpins[a].metadata.company,'</a></h6><div><a href="'+e.containedPushpins[a].metadata.company_url+'">'+e.containedPushpins[a].metadata.image+"</a><span>Total Jobs:"+e.containedPushpins[a].metadata.total_job+"</span></div></li>"),"job"===e.containedPushpins[a].metadata.post_type&&t.push('<li><h6><i class="fa fa-black-tie" aria-hidden="true"></i><a href="'+e.containedPushpins[a].metadata.url+'">',e.containedPushpins[a].metadata.title,'</a></h6><div><a href="'+e.containedPushpins[a].metadata.company_url+'"><img src="'+e.containedPushpins[a].metadata.image+'">'+e.containedPushpins[a].metadata.company+'</a><span class="job-type" ><a href="'+e.containedPushpins[a].metadata.type_url+'"style="color:'+e.containedPushpins[a].metadata.type_color+'"><i class="fa fa-bookmark"></i>'+e.containedPushpins[a].metadata.type+"</a></span></div></li>");t.push("</ul></div>")}infobox.setOptions({title:e.getTitle(),location:e.getLocation(),description:t.join(""),visible:!0,maxWidth:320,maxHeight:280})}var r=jQuery(this),s=r.find(".bmap").data("id"),l=parseInt(r.find(".bmap").data("zoom")),d=parseFloat(r.find(".bmap").data("latitude")),c=parseFloat(r.find(".bmap").data("longitude")),u=new Microsoft.Maps.Map(document.getElementById(s),{center:new Microsoft.Maps.Location(d,c),zoom:l,disableScrollWheelZoom:!0});r.find(".gmap-loading").hide();var p=JSON.parse(nooJobGmapL10n.marker_data),m=JSON.parse(nooJobGmapL10n.marker_company_data),f=new Microsoft.Maps.EntityCollection;u.entities.push(f);var h=new Microsoft.Maps.EntityCollection;u.entities.push(h),infobox=new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0,0),{visible:!1,offset:new Microsoft.Maps.Point(0,20)}),h.push(infobox),e(u,p,m);var g=function(){p=[],p.length=0,m=[];for(var t=u.entities.getLength()-1;t>=0;t--){var a=u.entities.get(t);a instanceof Microsoft.Maps.Pushpin&&u.entities.removeAt(t)}clusterLayer.clear();var o=jQuery(".noo-main > .jobs");o.find("article").each(function(){if(0!=jQuery(this).data("marker")){var e=jQuery(this).attr("data-marker");e=JSON.parse(e),p.push(e)}}),p.length&&e(u,p,m)},y=function(){var e=jQuery(".noo-main > .jobs");if(e.length){var t=jQuery(".widget-advanced-search").attr("id");jQuery("#"+t).on("change",'select, input:not([type="checkbox"]):not([type="radio"]):not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter):not(.noo-mb-location-address)',function(e){e.preventDefault(),jQuery(this).closest(".widget_noo_advanced_job_search_widget").removeClass("on-filter"),jQuery(".noo-main").addClass("noo-loading").append('<div class="noo-loader loadmore-loading"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>'),jQuery("html,body").animate({scrollTop:0},500);var a=jQuery("#"+t+" .form-control"),o=jQuery(this).parents("form").serialize();window.history.pushState(null,null,"?"+a.serialize()),jQuery.ajax({url:nooJobGmapL10n.ajax_url,data:o}).done(function(e){if("-1"!==e){jQuery(e).on("click",".mobile-job-filter",function(){var e=$(this).closest(".noo-main").next().find('div[id^="noo_advanced_"]');e.hasClass("on-filter")?e.removeClass("on-filter"):e.addClass("on-filter")});var t=jQuery(e).css({opacity:0});jQuery(".noo-main").html(e),t.animate({opacity:1},1e3),jQuery(".noo-main").removeClass("noo-loading"),jQuery('[data-paginate="loadmore"]').find(".loadmore-action").length&&jQuery('[data-paginate="loadmore"]').each(function(){var e=jQuery(this),t=e.find(".btn-loadmore").data("maxpage"),a="article.loadmore-item";e.find(".noo-grid").length&&(a="div.loadmore-item"),e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:a,maxPage:t,finishedMsg:" All jobs displayed"}),jQuery(".btn-loadmore").on("click",function(e){e.preventDefault(),jQuery(document).ajaxComplete(function(){g()})})}),g()}else location.reload()}).fail(function(){})})}};y();var v=function(){var e=jQuery(".widget-csf-live-filter").attr("id"),t=jQuery("#"+e).data("is-tax");t||jQuery("#"+e+" .reset-search").on("click",function(e){e.preventDefault();var t=jQuery(this).parent("form");return t.find("option:selected").removeAttr("selected"),t.get(0).reset(),t.find(".form-group").first().find(":input").not(":button, :submit, :reset, :hidden").change(),jQuery("select.form-control").multiselect("refresh"),!1});var o=jQuery(".noo-main > .jobs"),n=jQuery("#"+e).data("off-livesearch");jQuery(".map-info").length&&o.length>0&&!n&&jQuery("#"+e).on("change","select,input:not(.filter-search-option):not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter):not(.noo-mb-location-address)",function(t){t.preventDefault(),jQuery(this).closest(".widget_noo_advanced_job_search_widget").removeClass("on-filter"),jQuery(".noo-main").addClass("noo-loading").append('<div class="noo-loader loadmore-loading"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>'),jQuery("html,body").animate({scrollTop:jQuery(".noo-main").offset().top-200},500);var o=jQuery("#"+e+" .form-control"),n=jQuery(this).parents("form").serialize();history.pushState(null,null,"?"+o.serialize()),jQuery.ajax({url:nooJobGmapL10n.ajax_url,data:n}).done(function(e){if("-1"!==e){var t=jQuery(e).find(".filter-post-content").html(),o=jQuery(e).find(".filter-sidebar").contents(),n=jQuery(e).find(".filter-selected").contents();jQuery(".noo-main").html(t),jQuery(".noo-main").removeClass("noo-loading"),jQuery(".widget-fields-live-filter").html(o),jQuery(".results-filter").html(n),jQuery('[data-paginate="loadmore"]').find(".loadmore-action").length&&jQuery('[data-paginate="loadmore"]').each(function(){var e=jQuery(this),t=e.find(".btn-loadmore").data("maxpage");e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:"article.loadmore-item",maxPage:t,finishedMsg:" All jobs displayed"}),jQuery(".btn-loadmore").on("click",function(e){e.preventDefault(),jQuery(document).ajaxComplete(function(){g()})})}),g(),a(),FilterFunc.jobQuickSearch(),FilterFunc.NooDatetimepicker(),FilterFunc.hideClearAllFilter(),FilterFunc.collaspe_expand_field_filter(),FilterFunc.ProximityRange()}else location.reload()}).fail(function(){})}),jQuery("#"+e).submit(function(){return jQuery(this).find("input[name='action']").remove(),jQuery(this).find("input[name='_wp_http_referer']").remove(),jQuery(this).find("input[name='live-filter-nonce']").remove(),!0})};v();var j=function(){jQuery(".btn-loadmore").on("click",function(){var e=jQuery(this),t=e.find(".btn-loadmore").data("maxpage"),a="article.loadmore-item";e.find(".noo-grid").length&&(a="div.loadmore-item"),e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:a,maxPage:t,finishedMsg:" All jobs displayed"}),jQuery(document).ajaxComplete(function(){g()})})};j()});var t=jQuery(".resume-map");t.length>0&&t.each(function(){function e(e,a){Microsoft.Maps.loadModule("Microsoft.Maps.Clustering",function(){for(var o=[],i=[],r=0;r<a.length;r++)if(""!=a[r].latitude||""!=a[r].longitude){var s=a[r].icon;t(new Microsoft.Maps.Location(a[r].latitude,a[r].longitude),s,.45,a[r],function(e){o.push(e)}),i.push(new Microsoft.Maps.Location(a[r].latitude,a[r].longitude))}clusterLayer=new Microsoft.Maps.ClusterLayer(o,{clusteredPinCallback:n}),e.layers.insert(clusterLayer),viewBoundaries=Microsoft.Maps.LocationRect.fromLocations(i),1===i.length?e.setView({center:i[0],zoom:15}):e.setView({bounds:viewBoundaries})})}function t(e,t,a,n,i){var r=new Image;r.onload=function(){var t=document.createElement("canvas");t.width=r.width*a,t.height=r.height*a;var s=t.getContext("2d");s.drawImage(r,0,0,t.width,t.height);var l=new Microsoft.Maps.Pushpin(e,{icon:t.toDataURL(),anchor:new Microsoft.Maps.Point(t.width/2,t.height)});l.Title='<h6><a href="'+n.url+'">'+n.title+"</a></h6>",l.Description='<div>							<div class="loop-item-wrap" style=""> 								<div class="item-featured"><a href="'+n.url+'">'+n.image+'</a></div> 								<div class="loop-item-content item-meta"> 								    <h5 class="loop-item-author">'+n.candidate_name+'</h5>								 	<h6 class="loop-item-title "><a class="" href="'+n.url+'">'+n.title+'</a></h6>								 	<p class="content-meta item-meta-value">',""!==n.category&&(l.Description+=n.category),l.Description+="</p>							</div></div>",Microsoft.Maps.Events.addHandler(l,"click",o),Microsoft.Maps.Events.addHandler(l,"click",function(e){return p.setView({center:e.target.getLocation(),zoom:15})}),l.metadata=n,i&&i(l)},r.src=t}function o(e){"pushpin"==e.targetType&&(infobox.setLocation(e.target.getLocation()),infobox.setOptions({visible:!0,description:e.target.Description,maxWidth:350,maxHeight:350}))}function n(e){var t=25,a=nooResumeMap.theme_uri+"/assets/images/cloud.png",o=e.containedPushpins.length,n=Math.log(o)/Math.log(10)*5+t;e.setOptions({icon:a,textOffset:new Microsoft.Maps.Point(0,n-5)}),Microsoft.Maps.Events.addHandler(e,"click",i)}function i(e){if(e.target.containedPushpins){for(var t=[],a=0,o=e.target.containedPushpins.length;o>a;a++)t.push(e.target.containedPushpins[a].getLocation());var n=Microsoft.Maps.LocationRect.fromLocations(t);p.setView({bounds:n,padding:100}),0==n.width&&r(e.target)}}function r(e){var t=[];if(e.containedPushpins){t.push('<div style="overflow-y:auto;"><ul class="bmap-listCluster">');for(var a=0;a<e.containedPushpins.length;a++)"resume"==e.containedPushpins[a].metadata.post_type&&t.push('<li class="item-meta" style="background:url('+e.containedPushpins[a].metadata.cover_image+') "><h6><i class="fa fa-black-tie" aria-hidden="true"></i><a href="'+e.containedPushpins[a].metadata.url+'" class="c-white">',e.containedPushpins[a].metadata.title,'</a></h6><div class="item-meta-value"><a href="'+e.containedPushpins[a].metadata.url+'">'+e.containedPushpins[a].metadata.image+e.containedPushpins[a].metadata.category+"</a></div></li>");t.push("</ul></div>")}infobox.setOptions({title:e.getTitle(),location:e.getLocation(),description:t.join(""),visible:!0,maxWidth:500,maxHeight:500})}var s=jQuery(this),l=s.find(".resume_bmap").data("id"),d=parseInt(s.find(".resume_bmap").data("zoom")),c=parseFloat(s.find(".resume_bmap").data("latitude")),u=parseFloat(s.find(".resume_bmap").data("longitude")),p=new Microsoft.Maps.Map(document.getElementById(l),{supportedMapTypes:[Microsoft.Maps.MapTypeId.road,Microsoft.Maps.MapTypeId.aerial,Microsoft.Maps.MapTypeId.grayscale,Microsoft.Maps.MapTypeId.canvasLight,Microsoft.Maps.MapTypeId.canvasDark,Microsoft.Maps.MapTypeId.birdseye],center:new Microsoft.Maps.Location(c,u),zoom:d,disableScrollWheelZoom:!0,mapTypeId:Microsoft.Maps.MapTypeId.grayscale});s.find(".gmap-loading").hide();var m=JSON.parse(nooResumeMap.marker_data),f=new Microsoft.Maps.EntityCollection;p.entities.push(f);var h=new Microsoft.Maps.EntityCollection;p.entities.push(h),infobox=new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0,0),{visible:!1,offset:new Microsoft.Maps.Point(0,20)}),h.push(infobox),e(p,m);var g=function(){m=[],m.length=0;for(var t=p.entities.getLength()-1;t>=0;t--){var a=p.entities.get(t);a instanceof Microsoft.Maps.Pushpin&&p.entities.removeAt(t)}clusterLayer.clear();var o=jQuery(".noo-main > .resumes");o.find(".noo-resume-item").each(function(){if(0!=jQuery(this).data("marker")){var e=jQuery(this).attr("data-marker");e=JSON.parse(e),m.push(e)}}),m.length&&e(p,m)},y=function(){var e=jQuery(".noo-main > .resumes");if(e.length){var t=jQuery(".widget-advanced-search").attr("id");jQuery("#"+t).on("change",'select, input:not([type="checkbox"]):not([type="radio"]:not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter):not(.noo-mb-location-address))',function(e){e.preventDefault(),jQuery(this).closest(".widget_noo_advanced_resume_search_widget").removeClass("on-filter");var a=jQuery("#"+t+" .form-control"),o=jQuery(this).parents("form").serialize();window.history.pushState(null,null,"?"+a.serialize()),jQuery.ajax({url:nooResumeMap.ajax_url,data:o}).done(function(e){"-1"!==e?(jQuery(e).on("click",".mobile-job-filter",function(){var e=jQuery(this).closest(".noo-main").next().find('div[id^="noo_advanced_"]');e.hasClass("on-filter")?e.removeClass("on-filter"):e.addClass("on-filter")}),jQuery(".noo-main").html(e),jQuery('[data-paginate="loadmore"]').find(".loadmore-action").length&&jQuery('[data-paginate="loadmore"]').each(function(){var e=jQuery(this),t=e.find(".btn-loadmore").data("maxpage"),a="article.loadmore-item";e.find(".noo-grid").length&&(a="div.loadmore-item"),e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:a,maxPage:t,finishedMsg:" All resumes displayed"}),jQuery(".btn-loadmore").on("click",function(e){e.preventDefault(),jQuery(document).ajaxComplete(function(){g()})})}),g()):location.reload()}).fail(function(){})})}};y();var v=function(){var e=jQuery(".widget-csf-resume-live-filter").attr("id");jQuery("#"+e+" .reset-search").on("click",function(e){e.preventDefault();var t=$(this).parent("form");return t.find("option:selected").removeAttr("selected"),t.get(0).reset(),t.find(".form-group").first().find(":input").not(":button, :submit, :reset, :hidden").change(),jQuery("select.form-control").multiselect("refresh"),!1});var t=jQuery(".noo-main > .resumes"),o=jQuery("#"+e).data("off-livesearch"),n=jQuery("#"+e).data("can-view");jQuery(".map-info").length&&t.length>0&&!o&&n&&jQuery("#"+e).on("change","select,input:not(.filter-search-option):not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter)",function(t){t.preventDefault(),jQuery(this).closest(".widget_noo_advanced_resume_search_widget").removeClass("on-filter"),jQuery(".noo-main").addClass("noo-loading").append('<div class="noo-loader loadmore-loading"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>'),jQuery("html,body").animate({scrollTop:jQuery(".noo-main").offset().top-200},500);var o=jQuery("#"+e+" .form-control"),n=jQuery(this).parents("form").serialize();history.pushState(null,null,"?"+o.serialize()),jQuery.ajax({url:nooResumeMap.ajax_url,data:n}).done(function(e){if("-1"!==e){var t=jQuery(e).find(".filter-post-content").html(),o=jQuery(e).find(".filter-sidebar").contents(),n=jQuery(e).find(".filter-selected").contents();jQuery(".noo-main").html(t),jQuery(".noo-main").removeClass("noo-loading"),jQuery(".widget-fields-live-filter").html(o),jQuery(".results-filter").html(n),jQuery('[data-paginate="loadmore"]').find(".loadmore-action").length&&jQuery('[data-paginate="loadmore"]').each(function(){var e=jQuery(this),t=e.find(".btn-loadmore").data("maxpage");e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:"article",maxPage:t,finishedMsg:" All Resume displayed"}),jQuery(".btn-loadmore").on("click",function(e){e.preventDefault(),jQuery(document).ajaxComplete(function(){g()})})}),g(),a(),FilterFunc.jobQuickSearch(),FilterFunc.NooDatetimepicker(),FilterFunc.hideClearAllFilter(),FilterFunc.collaspe_expand_field_filter(),FilterFunc.GetGeoLocation(),jQuery(".noo-mb-job-location-filter").length>=1&&FilterFunc.noo_mb_map_field_filter(),FilterFunc.ProximityRange()}else location.reload()}).fail(function(){})}),jQuery("#"+e).submit(function(){return jQuery(this).find("input[name='action']").remove(),jQuery(this).find("input[name='_wp_http_referer']").remove(),jQuery(this).find("input[name='live-filter-nonce']").remove(),!0})};v();var j=function(){jQuery(".btn-loadmore").click(function(){var e=$(this),t=e.find(".btn-loadmore").data("maxpage"),a="article.loadmore-item";e.find(".noo-grid").length&&(a="div.loadmore-item"),e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:a,maxPage:t,finishedMsg:" All jobs displayed"}),jQuery(document).ajaxComplete(function(){g()})})};j()});var a=function(){var e=jQuery(".noo-mb-job");e.length>0&&e.each(function(){function e(e){var t=e[0].getLocation();document.getElementById("noo-mb-lat").value=t.latitude,document.getElementById("noo-mb-lon").value=t.longitude}function t(e){f.entities.clear(),f.setView({bounds:e.bestView});var t=[new v(new y(e.location.latitude,e.location.longitude),{icon:"https://www.bingmapsportal.com/Content/images/poi_custom.png",draggable:!0})];f.entities.push(t),document.getElementById("noo-mb-lat").value=e.location.latitude,document.getElementById("noo-mb-lon").value=e.location.longitude}var a=jQuery(this),o=a.data("id"),n=a.data("zoom"),i=a.data("dragged"),r="",s=parseInt(JM_Bing_Value.zoom),l=parseFloat(JM_Bing_Value.lat),d=parseFloat(JM_Bing_Value.lng),c=jQuery("#latitude").val(),u=jQuery("#longitude").val();"undefined"!=typeof c&&""!==c&&(l=parseFloat(c)),"undefined"!=typeof u&&""!==u&&(d=parseFloat(u));var p=jQuery("#noo-mb-lat").val(),m=jQuery("#noo-mb-lon").val();"undefined"!=typeof p&&""!==p&&(l=parseFloat(p)),"undefined"!=typeof m&&""!==m&&(d=parseFloat(m)),""==s&&(s=n),r=1==i?!1:!0;var f=new Microsoft.Maps.Map(document.getElementById(o),{center:new Microsoft.Maps.Location(l,d),zoom:s}),h=f.getCenter(),g=Microsoft.Maps.Events,y=Microsoft.Maps.Location,v=Microsoft.Maps.Pushpin,j=[new v(new y(h.latitude,h.longitude),{icon:"https://www.bingmapsportal.com/Content/images/poi_custom.png",draggable:r})];f.entities.push(j),g.addHandler(j[0],"dragend",function(){e(j)}),Microsoft.Maps.loadModule("Microsoft.Maps.AutoSuggest",function(){var e={maxResults:4,map:f},a=new Microsoft.Maps.AutosuggestManager(e);a.attachAutosuggest("#noo-mb-location-address",".map_type",t)})})};a()}