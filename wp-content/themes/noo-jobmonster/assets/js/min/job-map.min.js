var infoBox;!function(J){"use strict";var B=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"all",stylers:[{lightness:"-1"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.country",elementType:"all",stylers:[{lightness:"20"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:nooJobGmapL10n.primary_color}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{lightness:"20"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{lightness:"0"},{color:nooJobGmapL10n.primary_color},{saturation:"9"},{visibility:"simplified"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#3e3e3e"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:nooJobGmapL10n.primary_color},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{lightness:"-62"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#13232a"},{lightness:17}]}],G=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"},{color:"#bcd9c3"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"},{weight:"0.28"}]},{featureType:"transit.station",elementType:"labels.text",stylers:[{color:"#555555"}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{saturation:"-66"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{color:"#d5def2"},{visibility:"on"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:nooJobGmapL10n.primary_color}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"simplified"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{lightness:"0"},{color:nooJobGmapL10n.primary_color},{saturation:"9"},{visibility:"simplified"}]}],S=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],M=[{featureType:"landscape",stylers:[{hue:"#FFA800"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#53FF00"},{saturation:-73},{lightness:40},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FBFF00"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#00FFFD"},{saturation:0},{lightness:30},{gamma:1}]},{featureType:"water",stylers:[{hue:"#00BFFF"},{saturation:6},{lightness:8},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#679714"},{saturation:33.4},{lightness:-25.4},{gamma:1}]}];google.maps.event.addDomListener(window,"load",function(){var e=J(".noo-job-map"),t=e.find("#gmap"),a=t.attr("data-latitude")?t.attr("data-latitude"):nooJobGmapL10n.latitude,o=t.attr("data-longitude")?t.attr("data-longitude"):nooJobGmapL10n.longitude,n=t.attr("data-zoom")?t.attr("data-zoom"):nooJobGmapL10n.zoom,l=!t.attr("data-fit_bounds")||"yes"==t.attr("data-fit_bounds"),i=new google.maps.LatLng(parseFloat(a),parseFloat(o)),r=t.attr("data-map_style")?t.attr("data-map_style"):"",s=B;switch(r){case"none":s=[];break;case"light":s=G;break;case"apple":s=S;break;case"nature":s=M}var p={flat:!1,noClear:!1,zoom:parseInt(n),scrollwheel:!1,streetViewControl:!1,disableDefaultUI:!1,scaleControl:!1,navigationControl:!1,mapTypeControl:!1,maxZoom:parseInt(n),center:i,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:s},m=[],y=new google.maps.Map(t.get(0),p);google.maps.visualRefresh=!0,google.maps.event.addListener(y,"tilesloaded",function(){e.find(".gmap-loading").hide()});var d=new google.maps.places.Autocomplete(J("#map-location-search")[0]);d.bindTo("bounds",y),google.maps.event.addListener(d,"place_changed",function(){var e=d.getPlace();e.geometry&&(e.geometry.viewport?y.fitBounds(e.geometry.viewport):y.setCenter(e.geometry.location))});var f={content:document.createElement("div"),disableAutoPan:!0,maxWidth:500,boxClass:"myinfobox",zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};infoBox=new InfoBox(f);var c=function(e){var t='<div class="gmap-infobox"><a class="info-close" onclick="return infoBox.close();" href="javascript:void(0)">x</a>\t\t\t\t<div class="loop-item-wrap"> \t\t\t\t\t<div class="item-featured"><a href="'+e.company_url+'"><img src="'+e.image+'"></a></div> \t\t\t\t\t<div class="loop-item-content"> \t\t\t\t\t \t<h4 class="loop-item-title"><a href="'+e.url+'">'+e.title+"</a></h4>";""==e.company_url&&""==e.type||(t+='<p class="content-meta">',""!=e.company_url&&(t+='<span class="job-company"> <a href="'+e.company_url+'">'+e.company+"</a></span>"),""!=e.type&&(t+='<span class="job-type"> <a href="'+e.type_url+'" style="color: '+e.type_color+'"><i class="fa fa-bookmark"></i>'+e.type+"</a></span>"),t+="</p>"),t+="</div></div>",infoBox.setContent(t),infoBox.open(y,e),y.setCenter(e.position),y.panBy(50,-120)},g=J.parseJSON(nooJobGmapL10n.marker_company_data);if(g.length){for(var u=new google.maps.LatLngBounds,h=0;h<g.length;h++){var v=g[h],b=new google.maps.LatLng(v.latitude,v.longitude),T=new google.maps.Marker({position:b,map:y,post:v.post_type,title:v.title,image:v.image,company:v.company,company_url:v.company_url,total_job:v.total_job,slogan:v.slogan,icon:nooJobGmapL10n.theme_uri+"/assets/images/map-marker-icon.png"});m.push(T),u.extend(T.getPosition()),google.maps.event.addListener(T,"click",function(e){var t,a;a='<div class="gmap-infobox"><a class="info-close" onclick="return infoBox.close();" href="javascript:void(0)">x</a>\t\t\t\t<div class="loop-item-wrap"> \t\t\t\t\t<div class="item-featured"><a href="'+(t=this).company_url+'">'+t.image+'</a></div> \t\t\t\t\t<div class="loop-item-content"> \t\t\t\t\t \t<h4 class="loop-item-title"><a href="'+t.company_url+'">'+t.title+"</a></h4>",""!==t.company_url&&(a+='<p class="content-meta">',""!==t.slogan&&(a+='<span class="job-company"> '+t.slogan+"</span>"),0<t.total_job&&(a+='<strong>Total Jobs: </strong><span class="total-job">'+t.total_job+"</span> "),a+="</p>"),a+="</div></div>",infoBox.setContent(a),infoBox.open(y,t),y.setCenter(t.position),y.panBy(50,-120)})}0<m.length&&l&&y.fitBounds(u)}var _=J.parseJSON(nooJobGmapL10n.marker_data);if(_.length){var x=new google.maps.LatLngBounds;for(h=0;h<_.length;h++){var w=_[h],L=new google.maps.LatLng(w.latitude,w.longitude),k=new google.maps.Marker({position:L,map:y,post:w.post_type,title:w.title,url:w.url,image:w.image,type:w.type,type_url:w.type_url,type_color:w.type_color,company:w.company,company_url:w.company_url,term_url:w.term_url,icon:nooJobGmapL10n.theme_uri+"/assets/images/map-marker.png"});m.push(k),x.extend(k.getPosition()),google.maps.event.addListener(k,"click",function(e){c(this)})}0<m.length&&l&&y.fitBounds(x)}var j=[{textColor:"#ffffff",opt_textColor:"#ffffff",url:nooJobGmapL10n.theme_uri+"/assets/images/cloud.png",height:62,width:60,textSize:14}],F=new MarkerClusterer(y,m,{gridSize:50,ignoreHidden:!0,styles:j});F.setIgnoreHidden(!0);var C=function(){F.removeMarkers(m),(m=[]).length=0;var e=J(".noo-main > .jobs"),a=new google.maps.LatLngBounds;e.find("article").each(function(e){if(0!=J(this).data("marker")){w=J(this).attr("data-marker"),w=JSON.parse(w);var t=new google.maps.LatLng(w.latitude,w.longitude);k=new google.maps.Marker({position:t,map:y,post:w.post_type,title:w.title,url:w.url,image:w.image,type:w.type,type_url:w.type_url,type_color:w.type_color,company:w.company,company_url:w.company_url,icon:nooJobGmapL10n.theme_uri+"/assets/images/map-marker.png"}),m.push(k),a.extend(k.getPosition()),google.maps.event.addListener(k,"click",function(e){c(this)})}}),y.setZoom(10),0<m.length&&l&&y.fitBounds(a),(F=new MarkerClusterer(y,m,{maxZoom:20,gridSize:50,ignoreHidden:!0,styles:j})).setIgnoreHidden(!0)};!function(){var e=J(".noo-main > .jobs"),t=J(".map-info");if(e.length&&t.length){var o=J(".widget-advanced-search").attr("id");J("#"+o).on("change",'select, input:not([type="checkbox"]):not([type="radio"]):not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter):not(.noo-mb-location-address)',function(e){J(this).closest(".widget_noo_advanced_job_search_widget").removeClass("on-filter"),J(".noo-main").addClass("noo-loading").append('<div class="noo-loader loadmore-loading"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>'),J(".page-archive-job").animate({scrollTop:0},500);var t=J("#"+o+" .form-control"),a=J(this).parents("form").serialize();window.history.pushState(null,null,"?"+t.serialize()),J.ajax({url:nooJobGmapL10n.ajax_url,data:a}).done(function(e){if("-1"!==e){var t=J(e).css({opacity:0});J(".noo-main").html(t),t.animate({opacity:1},1e3),J(".noo-main").removeClass("noo-loading"),J('[data-paginate="loadmore"]').find(".loadmore-action").length&&J('[data-paginate="loadmore"]').each(function(){var e=J(this),t=e.find(".btn-loadmore").data("maxpage"),a="article.loadmore-item";e.find(".noo-grid").length&&(a="div.loadmore-item"),e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:a,maxPage:t,finishedMsg:" All jobs displayed"}),J(".btn-loadmore").on("click",function(e){e.preventDefault(),J(document).ajaxComplete(function(){C()})})}),C()}else location.reload()}).fail(function(){})})}}(),function(){var o=J(".widget-csf-live-filter").attr("id");J("#"+o).data("is-tax")||J("#"+o+" .reset-search").on("click",function(e){e.preventDefault();var t=J(this).parent("form");return t.find("option:selected").removeAttr("selected"),t.get(0).reset(),t.find(".form-group").first().find(":input").not(":button, :submit, :reset, :hidden").change(),J("select.form-control").multiselect("refresh"),!1});var e=J(".noo-main > .jobs"),t=J("#"+o).data("off-livesearch");J(".map-info").length&&0<e.length&&!t&&J("#"+o).on("change","select,input:not(.filter-search-option):not(.noo-mb-lat-filter):not(.noo-mb-lon-filter):not(.noo-mb-location-address-filter):not(.noo-mb-location-address)",function(e){e.preventDefault(),J(this).closest(".widget_noo_advanced_job_search_widget").removeClass("on-filter"),J(".noo-main").addClass("noo-loading").append('<div class="noo-loader loadmore-loading"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>'),J("html,body").animate({scrollTop:J(".noo-main").offset().top-200},500);var t=J("#"+o+" .form-control"),a=J(this).parents("form").serialize();history.pushState(null,null,"?"+t.serialize()),J.ajax({url:nooJobGmapL10n.ajax_url,data:a}).done(function(e){if("-1"!==e){var t=J(e).find(".filter-post-content").html(),a=J(e).find(".filter-sidebar").contents(),o=J(e).find(".filter-selected").contents();J(".noo-main").html(t),J(".noo-main").removeClass("noo-loading"),J(".widget-fields-live-filter").html(a),J(".results-filter").html(o),J('[data-paginate="loadmore"]').find(".loadmore-action").length&&J('[data-paginate="loadmore"]').each(function(){var e=J(this),t=e.find(".btn-loadmore").data("maxpage");e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:"article.loadmore-item",maxPage:t,finishedMsg:" All jobs displayed"}),J(".btn-loadmore").on("click",function(e){e.preventDefault(),J(document).ajaxComplete(function(){C()})})}),C(),FilterFunc.jobQuickSearch(),FilterFunc.NooDatetimepicker(),FilterFunc.hideClearAllFilter(),FilterFunc.collaspe_expand_field_filter(),FilterFunc.GetGeoLocation(),FilterFunc.ProximityRange(),1<=J(".noo-mb-job-location-filter").length?FilterFunc.noo_mb_map_field_filter():1<=J(".noo-mb-job").length&&JM_Bing_Map()}else location.reload()}).fail(function(){})}),J("#"+o).submit(function(){return J(this).find("input[name='action']").remove(),J(this).find("input[name='_wp_http_referer']").remove(),J(this).find("input[name='live-filter-nonce']").remove(),!0})}(),J(".btn-loadmore").on("click",function(e){var t=J(this),a=t.find(".btn-loadmore").data("maxpage"),o="article.loadmore-item";t.find(".noo-grid").length&&(o="div.loadmore-item"),t.nooLoadmore({navSelector:t.find("div.pagination"),nextSelector:t.find("div.pagination a.next"),itemSelector:o,maxPage:a,finishedMsg:" All jobs displayed"}),J(document).ajaxComplete(function(){C()})})})}(jQuery);